import{ay as M,az as u,aA as y,aB as x,aC as E,aD as T,ar as a,as as n,aw as s,aE as V,aF as N,av as C,aG as p,aH as r,aI as L,aJ as $,aK as k,aL as w,au as b,aM as v}from"./index-D9NihZ4e.js";const j={class:"blog-list"},z={class:"header-section"},A={class:"filters"},F={class:"search-container"},I={key:0,class:"custom-dropdown-menu"},O=["onClick"],R={class:"tag-name"},S={class:"tag-count"},U={key:0,class:"posts-grid"},q={class:"post-title"},G={key:0,class:"post-excerpt"},H={class:"post-meta"},J={class:"post-date"},K={key:0,class:"post-location"},P={key:1,class:"post-tags"},Q={key:1,class:"empty-state"},W={__name:"BlogList",setup(X){const g=u(""),i=u(""),c=u(!1),_=u(null),B=y(()=>{const l=new Map;return x.forEach(e=>{e.tags&&e.tags.forEach(o=>{l.set(o,(l.get(o)||0)+1)})}),Array.from(l.entries()).map(([e,o])=>({tag:e,count:o})).sort((e,o)=>o.count!==e.count?o.count-e.count:e.tag.localeCompare(o.tag))}),D=()=>{c.value=!c.value},f=l=>{i.value=l,c.value=!1},m=l=>{_.value&&!_.value.contains(l.target)&&(c.value=!1)};E(()=>{document.addEventListener("click",m)}),T(()=>{document.removeEventListener("click",m)});const h=y(()=>{const l=g.value.toLowerCase().trim(),e=i.value;return x.filter(o=>{const t=!l||o.title.toLowerCase().includes(l),d=!e||o.tags&&o.tags.includes(e);return t&&d})});return(l,e)=>{const o=b("router-link");return n(),a("div",j,[s("div",z,[e[4]||(e[4]=s("h1",{class:"page-title"},"文章列表",-1)),s("div",A,[s("div",F,[V(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t),type:"text",placeholder:"搜索文章标题...",class:"search-input"},null,512),[[N,g.value]]),e[2]||(e[2]=s("svg",{class:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("circle",{cx:"11",cy:"11",r:"8"}),s("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1))]),s("div",{class:"tag-select-container",ref_key:"dropdownRef",ref:_},[s("div",{class:p(["custom-select-trigger",{"is-open":c.value}]),onClick:D},[s("span",null,r(i.value?`#${i.value}`:"全部标签"),1),(n(),a("svg",{class:p(["select-icon",{rotate:c.value}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[...e[3]||(e[3]=[s("polyline",{points:"6 9 12 15 18 9"},null,-1)])],2))],2),C($,{name:"dropdown-fade"},{default:L(()=>[c.value?(n(),a("div",I,[s("div",{class:p(["dropdown-option",{selected:i.value===""}]),onClick:e[1]||(e[1]=t=>f(""))}," 全部标签 ",2),(n(!0),a(k,null,w(B.value,t=>(n(),a("div",{key:t.tag,class:p(["dropdown-option",{selected:i.value===t.tag}]),onClick:d=>f(t.tag)},[s("span",R,"#"+r(t.tag),1),s("span",S,r(t.count),1)],10,O))),128))])):v("",!0)]),_:1})],512)])]),h.value.length>0?(n(),a("div",U,[(n(!0),a(k,null,w(h.value,t=>(n(),a("div",{key:t.id,class:"post-card"},[C(o,{to:"/blog/"+t.id,class:"post-link"},{default:L(()=>[s("h2",q,r(t.title),1),t.excerpt?(n(),a("p",G,r(t.excerpt),1)):v("",!0),s("div",H,[s("span",J,r(new Date(t.date).toLocaleDateString()),1),t.location?(n(),a("span",K,r(t.location.address||t.location),1)):v("",!0),t.tags?(n(),a("div",P,[(n(!0),a(k,null,w(t.tags,d=>(n(),a("span",{key:d,class:"tag"},"#"+r(d),1))),128))])):v("",!0)])]),_:2},1032,["to"])]))),128))])):(n(),a("div",Q,[...e[5]||(e[5]=[s("p",null,"没有找到匹配的文章",-1)])]))])}}},Z=M(W,[["__scopeId","data-v-bbfa6524"]]);export{Z as default};
