import{_ as M,f as u,g as y,p as x,h as E,i as T,c as n,o as a,d as s,w as V,v as b,b as C,n as p,t as r,j as L,T as j,F as k,k as f,r as N,l as v}from"./index-nGJbwh3O.js";import"./mermaid-JKgtJoW5.js";const $={class:"blog-list"},F={class:"header-section"},O={class:"filters"},R={class:"search-container"},S={key:0,class:"custom-dropdown-menu"},U=["onClick"],q={class:"tag-name"},z={class:"tag-count"},A={key:0,class:"posts-grid"},I={class:"post-title"},P={key:0,class:"post-excerpt"},Q={class:"post-meta"},G={class:"post-date"},H={key:0,class:"post-location"},J={key:1,class:"post-tags"},K={key:1,class:"empty-state"},W={__name:"BlogList",setup(X){const g=u(""),i=u(""),c=u(!1),_=u(null),B=y(()=>{const l=new Map;return x.forEach(e=>{e.tags&&e.tags.forEach(o=>{l.set(o,(l.get(o)||0)+1)})}),Array.from(l.entries()).map(([e,o])=>({tag:e,count:o})).sort((e,o)=>o.count!==e.count?o.count-e.count:e.tag.localeCompare(o.tag))}),D=()=>{c.value=!c.value},w=l=>{i.value=l,c.value=!1},m=l=>{_.value&&!_.value.contains(l.target)&&(c.value=!1)};E(()=>{document.addEventListener("click",m)}),T(()=>{document.removeEventListener("click",m)});const h=y(()=>{const l=g.value.toLowerCase().trim(),e=i.value;return x.filter(o=>{const t=!l||o.title.toLowerCase().includes(l),d=!e||o.tags&&o.tags.includes(e);return t&&d})});return(l,e)=>{const o=N("router-link");return a(),n("div",$,[s("div",F,[e[4]||(e[4]=s("h1",{class:"page-title"},"文章列表",-1)),s("div",O,[s("div",R,[V(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t),type:"text",placeholder:"搜索文章标题...",class:"search-input"},null,512),[[b,g.value]]),e[2]||(e[2]=s("svg",{class:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("circle",{cx:"11",cy:"11",r:"8"}),s("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1))]),s("div",{class:"tag-select-container",ref_key:"dropdownRef",ref:_},[s("div",{class:p(["custom-select-trigger",{"is-open":c.value}]),onClick:D},[s("span",null,r(i.value?`#${i.value}`:"全部标签"),1),(a(),n("svg",{class:p(["select-icon",{rotate:c.value}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[...e[3]||(e[3]=[s("polyline",{points:"6 9 12 15 18 9"},null,-1)])],2))],2),C(j,{name:"dropdown-fade"},{default:L(()=>[c.value?(a(),n("div",S,[s("div",{class:p(["dropdown-option",{selected:i.value===""}]),onClick:e[1]||(e[1]=t=>w(""))}," 全部标签 ",2),(a(!0),n(k,null,f(B.value,t=>(a(),n("div",{key:t.tag,class:p(["dropdown-option",{selected:i.value===t.tag}]),onClick:d=>w(t.tag)},[s("span",q,"#"+r(t.tag),1),s("span",z,r(t.count),1)],10,U))),128))])):v("",!0)]),_:1})],512)])]),h.value.length>0?(a(),n("div",A,[(a(!0),n(k,null,f(h.value,t=>(a(),n("div",{key:t.id,class:"post-card"},[C(o,{to:"/blog/"+t.id,class:"post-link"},{default:L(()=>[s("h2",I,r(t.title),1),t.excerpt?(a(),n("p",P,r(t.excerpt),1)):v("",!0),s("div",Q,[s("span",G,r(new Date(t.date).toLocaleDateString()),1),t.location?(a(),n("span",H,r(t.location.address||t.location),1)):v("",!0),t.tags?(a(),n("div",J,[(a(!0),n(k,null,f(t.tags,d=>(a(),n("span",{key:d,class:"tag"},"#"+r(d),1))),128))])):v("",!0)])]),_:2},1032,["to"])]))),128))])):(a(),n("div",K,[...e[5]||(e[5]=[s("p",null,"没有找到匹配的文章",-1)])]))])}}},ee=M(W,[["__scopeId","data-v-bbfa6524"]]);export{ee as default};
